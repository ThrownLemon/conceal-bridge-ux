<div class="min-h-dvh bg-background text-foreground transition-colors duration-300">
  <!-- Skip to main content link for keyboard users -->
  <!-- Uses off-screen positioning instead of sr-only for better WebKit/Safari keyboard focus support -->
  <a
    href="#main-content"
    class="absolute -top-40 left-4 z-50 rounded-md bg-primary px-4 py-2 text-primary-foreground outline-none ring-2 ring-ring transition-[top] focus:top-4"
  >
    Skip to main content
  </a>

  <header
    class="sticky top-0 z-10 border-b border-border/50 bg-background/80 backdrop-blur"
    aria-label="Site header"
  >
    <div class="mx-auto flex max-w-5xl items-center justify-between gap-4 px-4 py-4">
      <a
        routerLink="/"
        class="text-sm font-semibold tracking-tight hover:text-primary transition-colors"
        aria-label="Conceal Bridge Home"
      >
        Conceal Bridge
      </a>

      <div class="flex items-center gap-2">
        <button
          z-button
          zType="ghost"
          zSize="sm"
          type="button"
          (click)="historyService.toggle()"
          aria-label="Transaction History"
        >
          <z-icon zType="clock" class="size-4" />
          <span class="sr-only">Transaction History</span>
        </button>

        <button
          z-button
          zType="ghost"
          zSize="sm"
          type="button"
          (click)="darkMode.toggleTheme()"
          [attr.aria-label]="
            darkMode.themeMode() === EDarkModes.DARK
              ? 'Switch to light mode'
              : 'Switch to dark mode'
          "
        >
          @if (darkMode.themeMode() === EDarkModes.DARK) {
            <z-icon zType="sun" class="size-4" />
          } @else {
            <z-icon zType="moon" class="size-4" />
          }
          <span class="sr-only">Toggle theme</span>
        </button>
        <app-wallet-button />
      </div>
    </div>
  </header>

  <main id="main-content" tabindex="-1" class="mx-auto max-w-5xl px-4 py-8 outline-none">
    <router-outlet />
  </main>

  <footer class="border-t border-border/50 bg-background px-4 py-8" aria-label="Site footer">
    <div
      class="mx-auto flex max-w-5xl flex-col gap-3 text-xs text-muted-foreground sm:flex-row sm:items-center sm:justify-between"
    >
      <div>Â© {{ year }} Conceal Network. All rights reserved.</div>
      <div class="flex flex-wrap gap-3">
        <a
          class="hover:text-foreground transition-colors"
          href="https://conceal.network/support/"
          target="_blank"
          rel="noopener"
          aria-label="Support"
          >Support</a
        >
        <a
          class="hover:text-foreground transition-colors"
          href="https://github.com/ConcealNetwork"
          target="_blank"
          rel="noopener"
          aria-label="GitHub"
          >GitHub</a
        >
        <a
          class="hover:text-foreground transition-colors"
          href="http://discord.conceal.network"
          target="_blank"
          rel="noopener"
          aria-label="Discord"
          >Discord</a
        >
      </div>
    </div>
  </footer>
</div>

<app-transaction-history />
<app-wallet-modal />
<app-error-boundary />
